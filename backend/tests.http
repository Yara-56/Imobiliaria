### 丘뙖잺 CONFIGURA칂칏ES GLOBAIS
@baseUrl = http://localhost:3001/api/v1
@contentType = application/json
@tenantLacerda = 65d5f1e8b3f1a2c3d4e5f6g7

# =========================================================
# 游댏 M칍DULO 0: ACESSO R츼PIDO (TRIAL)
# =========================================================

### 0. Entrar no Painel (Modo Demonstra칞칚o)
# Use este para testar o bot칚o azul da sua tela de login!
# @name trialLogin
POST {{baseUrl}}/auth/trial
Content-Type: {{contentType}}

### Captura Autom치tica do Token de Visitante
@trialToken = {{trialLogin.response.body.token}}

# =========================================================
# 游댏 M칍DULO 1: AUTENTICA칂츾O REAL (IMOBILI츼RIA LACERDA)
# =========================================================

### 1. Registrar Administrador Real
POST {{baseUrl}}/auth/register
Content-Type: {{contentType}}

{
  "name": "Iara Lacerda",
  "email": "iara@imobiliarialacerda.com.br",
  "password": "senha_segura_123",
  "tenantId": "{{tenantLacerda}}",
  "role": "admin"
}

### 2. Login Real
# @name login
POST {{baseUrl}}/auth/login
Content-Type: {{contentType}}

{
  "email": "iara@imobiliarialacerda.com.br",
  "password": "senha_segura_123"
}

### Captura Autom치tica do Token Real
@authToken = {{login.response.body.token}}

# =========================================================
# 游 M칍DULO 2: PROPRIEDADES (ISOLAMENTO DE DADOS)
# =========================================================

### 3. Listar Im칩veis do MODO TRIAL
# Deve retornar os im칩veis do bairro Cariru/Bom Retiro criados no Seed
GET {{baseUrl}}/properties
Authorization: Bearer {{trialToken}}

### 4. Listar Im칩veis REAIS (Imobili치ria Lacerda)
# Deve retornar apenas o que voc칡 cadastrou no seu tenant real
GET {{baseUrl}}/properties
Authorization: Bearer {{authToken}}

### 5. Cadastrar Im칩vel (Como Admin Real)
# @name createProperty
POST {{baseUrl}}/properties
Authorization: Bearer {{authToken}}
Content-Type: {{contentType}}

{
  "title": "Apartamento Luxo - Bairro Cariru",
  "description": "3 quartos, su칤te, 2 vagas, varanda gourmet.",
  "price": 580000,
  "type": "Venda",
  "address": {
    "neighborhood": "Cariru",
    "city": "Ipatinga",
    "state": "MG"
  }
}

# =========================================================
# 游늯 M칍DULO 3: CONTRATOS (SEGURAN칂A RBAC)
# =========================================================

### 6. Listar Contratos (Modo Trial)
GET {{baseUrl}}/contracts
Authorization: Bearer {{trialToken}}

### 7. Ver Perfil (Get Me)
GET {{baseUrl}}/auth/me
Authorization: Bearer {{authToken}}

# =========================================================
# 游뛁 M칍DULO 4: LOGOUT
# =========================================================

### 8. Logout
POST {{baseUrl}}/auth/logout
Authorization: Bearer {{authToken}}